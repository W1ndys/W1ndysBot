from .. import MODULE_NAME, SWITCH_NAME
from core.menu_manager import MENU_COMMAND
from logger import logger
from core.switchs import is_group_switch_on, handle_module_group_switch
from utils.auth import is_group_admin, is_system_admin
from api.message import send_group_msg_with_cq, group_poke, set_msg_emoji_like
from datetime import datetime
from core.menu_manager import MenuManager
import random
import re


# QQè¡¨æƒ…IDåˆ°emoji IDçš„æ˜ å°„è¡¨
# å‚è€ƒ: https://bot.q.qq.com/wiki/develop/api-v2/openapi/emoji/model.html
QQ_FACE_TO_EMOJI_ID = {
    0: "ğŸ˜²",  # æƒŠè®¶
    1: "ğŸ˜–",  # æ’‡å˜´
    2: "ğŸ˜",  # è‰²
    3: "ğŸ˜¶",  # å‘å‘†
    4: "ğŸ˜",  # å¾—æ„
    5: "ğŸ˜­",  # æµæ³ª
    6: "â˜ºï¸",  # å®³ç¾
    7: "ğŸ¤",  # é—­å˜´
    8: "ğŸ˜ª",  # ç¡
    9: "ğŸ˜¢",  # å¤§å“­
    10: "ğŸ˜³",  # å°´å°¬
    11: "ğŸ˜¡",  # å‘æ€’
    12: "ğŸ˜œ",  # è°ƒçš®
    13: "ğŸ˜",  # å‘²ç‰™
    14: "ğŸ˜Š",  # å¾®ç¬‘
    15: "â˜¹ï¸",  # éš¾è¿‡
    16: "ğŸ˜„",  # é…·
    18: "ğŸ˜¤",  # æŠ“ç‹‚
    19: "ğŸ¤®",  # å
    20: "ğŸ¤­",  # å·ç¬‘
    21: "ğŸ˜Š",  # å¯çˆ±
    22: "ğŸ™„",  # ç™½çœ¼
    23: "ğŸ˜ ",  # å‚²æ…¢
    24: "ğŸ˜‹",  # é¥¥é¥¿
    25: "ğŸ˜«",  # å›°
    26: "ğŸ˜±",  # æƒŠæ
    27: "ğŸ˜“",  # æµæ±—
    28: "ğŸ˜€",  # æ†¨ç¬‘
    29: "ğŸ’ª",  # æ‚ é—²
    30: "ğŸ’ª",  # å¥‹æ–—
    31: "ğŸ¤¬",  # å’’éª‚
    32: "ğŸ¤”",  # ç–‘é—®
    33: "ğŸ¤«",  # å˜˜
    34: "ğŸ˜µ",  # æ™•
    35: "ğŸ˜©",  # æŠ˜ç£¨
    36: "ğŸ’€",  # è¡°
    37: "ğŸ’€",  # éª·é«…
    38: "ğŸ”¨",  # æ•²æ‰“
    39: "ğŸ‘‹",  # å†è§
    41: "ğŸ˜¤",  # å‘æŠ–
    42: "ğŸ˜",  # çˆ±æƒ…
    43: "ğŸ¦˜",  # è·³è·³
    46: "ğŸ·",  # çŒªå¤´
    49: "ğŸ¤—",  # æ‹¥æŠ±
    53: "ğŸ‚",  # è›‹ç³•
    54: "âš¡",  # é—ªç”µ
    55: "ğŸ’£",  # ç‚¸å¼¹
    56: "ğŸ”ª",  # åˆ€
    57: "âš½",  # è¶³çƒ
    59: "ğŸ’©",  # ä¾¿ä¾¿
    60: "â˜•",  # å’–å•¡
    61: "ğŸš",  # é¥­
    63: "ğŸŒ¹",  # ç«ç‘°
    64: "ğŸ¥€",  # å‡‹è°¢
    66: "â¤ï¸",  # çˆ±å¿ƒ
    67: "ğŸ’”",  # å¿ƒç¢
    69: "ğŸ",  # ç¤¼ç‰©
    74: "â˜€ï¸",  # å¤ªé˜³
    75: "ğŸŒ™",  # æœˆäº®
    76: "ğŸ‘",  # èµ
    77: "ğŸ‘",  # è¸©
    78: "ğŸ¤",  # æ¡æ‰‹
    79: "âœŒï¸",  # èƒœåˆ©
    96: "ğŸ˜…",  # å†·æ±—
    97: "ğŸ¥º",  # æ“¦æ±—
    98: "ğŸ¤¥",  # æŠ é¼»
    99: "ğŸ‘",  # é¼“æŒ
    100: "ğŸ˜°",  # ç³—å¤§äº†
    101: "ğŸ˜",  # åç¬‘
    102: "ğŸ¤¤",  # å·¦å“¼å“¼
    103: "ğŸ¤¤",  # å³å“¼å“¼
    104: "ğŸ¥±",  # å“ˆæ¬ 
    105: "ğŸ˜”",  # é„™è§†
    106: "ğŸ˜£",  # å§”å±ˆ
    107: "ğŸ˜­",  # å¿«å“­äº†
    108: "ğŸ˜ˆ",  # é˜´é™©
    109: "ğŸ˜˜",  # äº²äº²
    110: "ğŸ˜±",  # å“
    111: "ğŸ¤­",  # å¯æ€œ
    112: "ğŸ”ª",  # èœåˆ€
    114: "ğŸ€",  # ç¯®çƒ
    115: "ğŸ“",  # ä¹’ä¹“
    116: "â¤ï¸",  # ç¤ºçˆ±
    117: "ğŸ›",  # ç“¢è™«
    118: "ğŸ¤”",  # æŠ±æ‹³
    119: "ğŸ‘Š",  # å‹¾å¼•
    120: "ğŸ‘Š",  # æ‹³å¤´
    121: "ğŸ‘",  # å·®åŠ²
    122: "ğŸ¤Ÿ",  # çˆ±ä½ 
    123: "ğŸ™…",  # NO
    124: "ğŸ‘Œ",  # OK
    125: "ğŸ’",  # è½¬åœˆ
    129: "ğŸ‘‹",  # æŒ¥æ‰‹
    130: "ğŸ˜±",  # æ¿€åŠ¨
    131: "ğŸ’ƒ",  # è¡—èˆ
    132: "ğŸ˜˜",  # çŒ®å»
    133: "ğŸƒ",  # å·¦å¤ªæ
    134: "ğŸƒ",  # å³å¤ªæ
    136: "ğŸ˜·",  # åŒå–œ
    137: "ğŸ§¨",  # é­ç‚®
    138: "ğŸ®",  # ç¯ç¬¼
    140: "ğŸ¤",  # Kæ­Œ
    144: "ğŸ˜Š",  # å–å½©
    145: "ğŸ™",  # ç¥ˆç¥·
    146: "ğŸ’ª",  # çˆ†ç­‹
    147: "ğŸ¬",  # æ£’æ£’ç³–
    148: "ğŸ¼",  # å–å¥¶
    168: "ğŸŠ",  # çƒŸèŠ±
    169: "ğŸˆ",  # æ°”çƒ
    171: "ğŸµ",  # èŒ¶
    172: "ğŸ˜¿",  # æ³ªå¥”
    173: "ğŸ¤·",  # æ— å¥ˆ
    174: "ğŸ›’",  # å–èŒ
    175: "ğŸ¤£",  # å°çº ç»“
    176: "ğŸ¤£",  # å–·è¡€
    177: "ğŸ˜Š",  # æ–œçœ¼ç¬‘
    178: "ğŸ˜‚",  # doge
    179: "ğŸ˜†",  # æƒŠå–œ
    180: "ğŸ˜©",  # éªšæ‰°
    181: "ğŸ˜Š",  # ç¬‘å“­
    182: "ğŸ¤”",  # æˆ‘æœ€ç¾
    183: "ğŸ˜Š",  # æ²³èŸ¹
    184: "ğŸ¤‘",  # ç¾Šé©¼
    185: "ğŸ™‚",  # å¹½çµ
    187: "ğŸ¥š",  # è›‹
    188: "ğŸ¤—",  # èŠèŠ±
    190: "ğŸ¤¤",  # çº¢åŒ…
    192: "ğŸ˜Š",  # å¤§ç¬‘
    193: "ğŸ˜²",  # ä¸å¼€å¿ƒ
    194: "ğŸ˜Œ",  # å†·æ¼ 
    197: "ğŸ˜Š",  # å‘ƒ
    198: "ğŸ‘Œ",  # å¥½çš„
    200: "ğŸ˜Š",  # åƒç“œ
    201: "ğŸ‹",  # åŠ æ²¹
    202: "ğŸ˜®",  # æ±—
    203: "ğŸ˜ƒ",  # å¤©å•Š
    212: "ğŸ˜Š",  # èŠ±æœµ
    214: "ğŸ˜‚",  # ç¬‘
    215: "ğŸ˜",  # è‰²
    216: "ğŸ™‚",  # å˜¿å“ˆ
    217: "ğŸ’ª",  # æ‚è„¸
    218: "ğŸ˜†",  # å¥¸ç¬‘
    219: "ğŸ˜‡",  # æœºæ™º
    220: "ğŸ‘‹",  # çš±çœ‰
    221: "ğŸ’ª",  # è€¶
    222: "ğŸ˜Š",  # åƒç“œ
    223: "ğŸ",  # ç¤¼ç‰©
    224: "ğŸ‚",  # è›‹ç³•
    225: "ğŸŒ¹",  # é²œèŠ±
    226: "â¤ï¸",  # çˆ±å¿ƒ
    227: "ğŸ’”",  # å¿ƒç¢
    228: "ğŸ€",  # å››å¶è‰
    229: "â­",  # æ˜Ÿæ˜Ÿ
    230: "ğŸŒ™",  # æœˆäº®
    231: "â˜€ï¸",  # å¤ªé˜³
    232: "ğŸŒˆ",  # å½©è™¹
    233: "â˜ï¸",  # äº‘æœµ
    234: "ğŸ’°",  # çº¢åŒ…
    235: "ğŸ§§",  # ç¦è¢‹
    236: "ğŸŠ",  # çƒŸèŠ±
    237: "ğŸ‰",  # åº†ç¥
    238: "ğŸ®",  # ç¯ç¬¼
    239: "ğŸ§¨",  # é­ç‚®
    240: "âœ¨",  # å¥½è¿
}

# emoji çš„ Unicode ç ç‚¹åˆ°è¡¨æƒ… ID çš„æ˜ å°„
# ç”¨äºå°†æ¶ˆæ¯ä¸­çš„ emoji è½¬æ¢ä¸ºè´´è¡¨æƒ…æ—¶ä½¿ç”¨çš„ ID
EMOJI_TO_ID = {
    "ğŸ˜€": "128512",
    "ğŸ˜ƒ": "128515",
    "ğŸ˜„": "128516",
    "ğŸ˜": "128513",
    "ğŸ˜†": "128518",
    "ğŸ˜…": "128517",
    "ğŸ¤£": "129315",
    "ğŸ˜‚": "128514",
    "ğŸ™‚": "128578",
    "ğŸ™ƒ": "128579",
    "ğŸ˜‰": "128521",
    "ğŸ˜Š": "128522",
    "ğŸ˜‡": "128519",
    "ğŸ¥°": "129392",
    "ğŸ˜": "128525",
    "ğŸ¤©": "129321",
    "ğŸ˜˜": "128536",
    "ğŸ˜—": "128535",
    "â˜ºï¸": "9786",
    "ğŸ˜š": "128538",
    "ğŸ˜™": "128537",
    "ğŸ¥²": "129394",
    "ğŸ˜‹": "128523",
    "ğŸ˜›": "128539",
    "ğŸ˜œ": "128540",
    "ğŸ¤ª": "129322",
    "ğŸ˜": "128541",
    "ğŸ¤‘": "129297",
    "ğŸ¤—": "129303",
    "ğŸ¤­": "129325",
    "ğŸ¤«": "129323",
    "ğŸ¤”": "129300",
    "ğŸ¤": "129296",
    "ğŸ¤¨": "129320",
    "ğŸ˜": "128528",
    "ğŸ˜‘": "128529",
    "ğŸ˜¶": "128566",
    "ğŸ˜": "128527",
    "ğŸ˜’": "128530",
    "ğŸ™„": "128580",
    "ğŸ˜¬": "128556",
    "ğŸ¤¥": "129317",
    "ğŸ˜Œ": "128524",
    "ğŸ˜”": "128532",
    "ğŸ˜ª": "128554",
    "ğŸ¤¤": "129316",
    "ğŸ˜´": "128564",
    "ğŸ˜·": "128567",
    "ğŸ¤’": "129298",
    "ğŸ¤•": "129301",
    "ğŸ¤¢": "129314",
    "ğŸ¤®": "129326",
    "ğŸ¤§": "129319",
    "ğŸ¥µ": "129397",
    "ğŸ¥¶": "129398",
    "ğŸ¥´": "129396",
    "ğŸ˜µ": "128565",
    "ğŸ¤¯": "129327",
    "ğŸ¤ ": "129312",
    "ğŸ¥³": "129395",
    "ğŸ¥¸": "129400",
    "ğŸ˜": "128526",
    "ğŸ¤“": "129299",
    "ğŸ§": "129488",
    "ğŸ˜•": "128533",
    "ğŸ˜Ÿ": "128543",
    "ğŸ™": "128577",
    "â˜¹ï¸": "9785",
    "ğŸ˜®": "128558",
    "ğŸ˜¯": "128559",
    "ğŸ˜²": "128562",
    "ğŸ˜³": "128563",
    "ğŸ¥º": "129402",
    "ğŸ˜¦": "128550",
    "ğŸ˜§": "128551",
    "ğŸ˜¨": "128552",
    "ğŸ˜°": "128560",
    "ğŸ˜¥": "128549",
    "ğŸ˜¢": "128546",
    "ğŸ˜­": "128557",
    "ğŸ˜±": "128561",
    "ğŸ˜–": "128534",
    "ğŸ˜£": "128547",
    "ğŸ˜": "128542",
    "ğŸ˜“": "128531",
    "ğŸ˜©": "128553",
    "ğŸ˜«": "128555",
    "ğŸ¥±": "129393",
    "ğŸ˜¤": "128548",
    "ğŸ˜¡": "128545",
    "ğŸ˜ ": "128544",
    "ğŸ¤¬": "129324",
    "ğŸ˜ˆ": "128520",
    "ğŸ‘¿": "128127",
    "ğŸ’€": "128128",
    "â˜ ï¸": "9760",
    "ğŸ’©": "128169",
    "ğŸ¤¡": "129313",
    "ğŸ‘¹": "128121",
    "ğŸ‘º": "128122",
    "ğŸ‘»": "128123",
    "ğŸ‘½": "128125",
    "ğŸ‘¾": "128126",
    "ğŸ¤–": "129302",
    "ğŸ˜º": "128570",
    "ğŸ˜¸": "128568",
    "ğŸ˜¹": "128569",
    "ğŸ˜»": "128571",
    "ğŸ˜¼": "128572",
    "ğŸ˜½": "128573",
    "ğŸ™€": "128576",
    "ğŸ˜¿": "128575",
    "ğŸ˜¾": "128574",
    "ğŸ™ˆ": "128584",
    "ğŸ™‰": "128585",
    "ğŸ™Š": "128586",
    "ğŸ’‹": "128139",
    "ğŸ’Œ": "128140",
    "ğŸ’˜": "128152",
    "ğŸ’": "128157",
    "ğŸ’–": "128150",
    "ğŸ’—": "128151",
    "ğŸ’“": "128147",
    "ğŸ’": "128158",
    "ğŸ’•": "128149",
    "ğŸ’Ÿ": "128159",
    "â£ï¸": "10083",
    "ğŸ’”": "128148",
    "â¤ï¸": "10084",
    "ğŸ§¡": "129505",
    "ğŸ’›": "128155",
    "ğŸ’š": "128154",
    "ğŸ’™": "128153",
    "ğŸ’œ": "128156",
    "ğŸ¤": "129294",
    "ğŸ–¤": "128420",
    "ğŸ¤": "129293",
    "ğŸ’¯": "128175",
    "ğŸ’¢": "128162",
    "ğŸ’¥": "128165",
    "ğŸ’«": "128171",
    "ğŸ’¦": "128166",
    "ğŸ’¨": "128168",
    "ğŸ•³ï¸": "128371",
    "ğŸ’£": "128163",
    "ğŸ’¬": "128172",
    "ğŸ‘‹": "128075",
    "ğŸ¤š": "129306",
    "ğŸ–ï¸": "128400",
    "âœ‹": "9995",
    "ğŸ––": "128406",
    "ğŸ‘Œ": "128076",
    "ğŸ¤Œ": "129292",
    "ğŸ¤": "129295",
    "âœŒï¸": "9996",
    "ğŸ¤": "129310",
    "ğŸ¤Ÿ": "129311",
    "ğŸ¤˜": "129304",
    "ğŸ¤™": "129305",
    "ğŸ‘ˆ": "128072",
    "ğŸ‘‰": "128073",
    "ğŸ‘†": "128070",
    "ğŸ–•": "128405",
    "ğŸ‘‡": "128071",
    "â˜ï¸": "9757",
    "ğŸ‘": "128077",
    "ğŸ‘": "128078",
    "âœŠ": "9994",
    "ğŸ‘Š": "128074",
    "ğŸ¤›": "129307",
    "ğŸ¤œ": "129308",
    "ğŸ‘": "128079",
    "ğŸ™Œ": "128588",
    "ğŸ‘": "128080",
    "ğŸ¤²": "129330",
    "ğŸ¤": "129309",
    "ğŸ™": "128591",
    "âœï¸": "9997",
    "ğŸ’…": "128133",
    "ğŸ¤³": "129331",
    "ğŸ’ª": "128170",
    "ğŸ¦¾": "129470",
    "ğŸ¦¿": "129471",
    "ğŸ¦µ": "129461",
    "ğŸ¦¶": "129462",
    "ğŸ‘‚": "128066",
    "ğŸ¦»": "129467",
    "ğŸ‘ƒ": "128067",
    "ğŸ§ ": "129504",
    "ğŸ«€": "129728",
    "ğŸ«": "129729",
    "ğŸ¦·": "129463",
    "ğŸ¦´": "129460",
    "ğŸ‘€": "128064",
    "ğŸ‘ï¸": "128065",
    "ğŸ‘…": "128069",
    "ğŸ‘„": "128068",
    "ğŸµ": "128053",
    "ğŸ’": "128018",
    "ğŸ¦": "129421",
    "ğŸ¦§": "129447",
    "ğŸ¶": "128054",
    "ğŸ•": "128021",
    "ğŸ¦®": "129454",
    "ğŸ©": "128041",
    "ğŸº": "128058",
    "ğŸ¦Š": "129418",
    "ğŸ¦": "129437",
    "ğŸ±": "128049",
    "ğŸˆ": "128008",
    "ğŸ¦": "129409",
    "ğŸ¯": "128047",
    "ğŸ…": "128005",
    "ğŸ†": "128006",
    "ğŸ´": "128052",
    "ğŸ": "128014",
    "ğŸ¦„": "129412",
    "ğŸ¦“": "129427",
    "ğŸ¦Œ": "129420",
    "ğŸ¦¬": "129452",
    "ğŸ®": "128046",
    "ğŸ‚": "128002",
    "ğŸƒ": "128003",
    "ğŸ„": "128004",
    "ğŸ·": "128055",
    "ğŸ–": "128022",
    "ğŸ—": "128023",
    "ğŸ½": "128061",
    "ğŸ": "128015",
    "ğŸ‘": "128017",
    "ğŸ": "128016",
    "ğŸª": "128042",
    "ğŸ«": "128043",
    "ğŸ¦™": "129433",
    "ğŸ¦’": "129426",
    "ğŸ˜": "128024",
    "ğŸ¦£": "129443",
    "ğŸ¦": "129423",
    "ğŸ¦›": "129435",
    "ğŸ­": "128045",
    "ğŸ": "128001",
    "ğŸ€": "128000",
    "ğŸ¹": "128057",
    "ğŸ°": "128048",
    "ğŸ‡": "128007",
    "ğŸ¿ï¸": "128063",
    "ğŸ¦«": "129451",
    "ğŸ¦”": "129428",
    "ğŸ¦‡": "129415",
    "ğŸ»": "128059",
    "ğŸ¨": "128040",
    "ğŸ¼": "128060",
    "ğŸ¦¥": "129445",
    "ğŸ¦¦": "129446",
    "ğŸ¦¨": "129448",
    "ğŸ¦˜": "129432",
    "ğŸ¦¡": "129441",
    "ğŸ¾": "128062",
    "ğŸ¦ƒ": "129411",
    "ğŸ”": "128020",
    "ğŸ“": "128019",
    "ğŸ£": "128035",
    "ğŸ¤": "128036",
    "ğŸ¥": "128037",
    "ğŸ¦": "128038",
    "ğŸ§": "128039",
    "ğŸ•Šï¸": "128330",
    "ğŸ¦…": "129413",
    "ğŸ¦†": "129414",
    "ğŸ¦¢": "129442",
    "ğŸ¦‰": "129417",
    "ğŸ¦¤": "129444",
    "ğŸª¶": "129718",
    "ğŸ¦©": "129449",
    "ğŸ¦š": "129434",
    "ğŸ¦œ": "129436",
    "ğŸ¸": "128056",
    "ğŸŠ": "128010",
    "ğŸ¢": "128034",
    "ğŸ¦": "129422",
    "ğŸ": "128013",
    "ğŸ²": "128050",
    "ğŸ‰": "128009",
    "ğŸ¦•": "129429",
    "ğŸ¦–": "129430",
    "ğŸ³": "128051",
    "ğŸ‹": "128011",
    "ğŸ¬": "128044",
    "ğŸ¦­": "129453",
    "ğŸŸ": "128031",
    "ğŸ ": "128032",
    "ğŸ¡": "128033",
    "ğŸ¦ˆ": "129416",
    "ğŸ™": "128025",
    "ğŸš": "128026",
    "ğŸŒ": "128012",
    "ğŸ¦‹": "129419",
    "ğŸ›": "128027",
    "ğŸœ": "128028",
    "ğŸ": "128029",
    "ğŸª²": "129714",
    "ğŸ": "128030",
    "ğŸ¦—": "129431",
    "ğŸª³": "129715",
    "ğŸ•·ï¸": "128375",
    "ğŸ•¸ï¸": "128376",
    "ğŸ¦‚": "129410",
    "ğŸ¦Ÿ": "129439",
    "ğŸª°": "129712",
    "ğŸª±": "129713",
    "ğŸ¦ ": "129440",
    "ğŸ’": "128144",
    "ğŸŒ¸": "127800",
    "ğŸ’®": "128174",
    "ğŸµï¸": "127989",
    "ğŸŒ¹": "127801",
    "ğŸ¥€": "129344",
    "ğŸŒº": "127802",
    "ğŸŒ»": "127803",
    "ğŸŒ¼": "127804",
    "ğŸŒ·": "127799",
    "ğŸŒ±": "127793",
    "ğŸª´": "129716",
    "ğŸŒ²": "127794",
    "ğŸŒ³": "127795",
    "ğŸŒ´": "127796",
    "ğŸŒµ": "127797",
    "ğŸŒ¾": "127806",
    "ğŸŒ¿": "127807",
    "â˜˜ï¸": "9752",
    "ğŸ€": "127808",
    "ğŸ": "127809",
    "ğŸ‚": "127810",
    "ğŸƒ": "127811",
    "ğŸ‡": "127815",
    "ğŸˆ": "127816",
    "ğŸ‰": "127817",
    "ğŸŠ": "127818",
    "ğŸ‹": "127819",
    "ğŸŒ": "127820",
    "ğŸ": "127821",
    "ğŸ¥­": "129389",
    "ğŸ": "127822",
    "ğŸ": "127823",
    "ğŸ": "127824",
    "ğŸ‘": "127825",
    "ğŸ’": "127826",
    "ğŸ“": "127827",
    "ğŸ«": "129744",
    "ğŸ¥": "129373",
    "ğŸ…": "127813",
    "ğŸ«’": "129746",
    "ğŸ¥¥": "129381",
    "ğŸ¥‘": "129361",
    "ğŸ†": "127814",
    "ğŸ¥”": "129364",
    "ğŸ¥•": "129365",
    "ğŸŒ½": "127805",
    "ğŸŒ¶ï¸": "127798",
    "ğŸ«‘": "129745",
    "ğŸ¥’": "129362",
    "ğŸ¥¬": "129388",
    "ğŸ¥¦": "129382",
    "ğŸ§„": "129476",
    "ğŸ§…": "129477",
    "ğŸ„": "127812",
    "ğŸ¥œ": "129372",
    "ğŸŒ°": "127792",
    "ğŸ": "127838",
    "ğŸ¥": "129360",
    "ğŸ¥–": "129366",
    "ğŸ«“": "129747",
    "ğŸ¥¨": "129384",
    "ğŸ¥¯": "129391",
    "ğŸ¥": "129374",
    "ğŸ§‡": "129479",
    "ğŸ§€": "129472",
    "ğŸ–": "127830",
    "ğŸ—": "127831",
    "ğŸ¥©": "129385",
    "ğŸ¥“": "129363",
    "ğŸ”": "127828",
    "ğŸŸ": "127839",
    "ğŸ•": "127829",
    "ğŸŒ­": "127789",
    "ğŸ¥ª": "129386",
    "ğŸŒ®": "127790",
    "ğŸŒ¯": "127791",
    "ğŸ«”": "129748",
    "ğŸ¥™": "129369",
    "ğŸ§†": "129478",
    "ğŸ¥š": "129370",
    "ğŸ³": "127859",
    "ğŸ¥˜": "129368",
    "ğŸ²": "127858",
    "ğŸ«•": "129749",
    "ğŸ¥£": "129379",
    "ğŸ¥—": "129367",
    "ğŸ¿": "127871",
    "ğŸ§ˆ": "129480",
    "ğŸ§‚": "129474",
    "ğŸ¥«": "129387",
    "ğŸ±": "127857",
    "ğŸ˜": "127832",
    "ğŸ™": "127833",
    "ğŸš": "127834",
    "ğŸ›": "127835",
    "ğŸœ": "127836",
    "ğŸ": "127837",
    "ğŸ ": "127840",
    "ğŸ¢": "127842",
    "ğŸ£": "127843",
    "ğŸ¤": "127844",
    "ğŸ¥": "127845",
    "ğŸ¥®": "129390",
    "ğŸ¡": "127841",
    "ğŸ¥Ÿ": "129375",
    "ğŸ¥ ": "129376",
    "ğŸ¥¡": "129377",
    "ğŸ¦€": "129408",
    "ğŸ¦": "129438",
    "ğŸ¦": "129424",
    "ğŸ¦‘": "129425",
    "ğŸ¦ª": "129450",
    "ğŸ¦": "127846",
    "ğŸ§": "127847",
    "ğŸ¨": "127848",
    "ğŸ©": "127849",
    "ğŸª": "127850",
    "ğŸ‚": "127874",
    "ğŸ°": "127856",
    "ğŸ§": "129473",
    "ğŸ¥§": "129383",
    "ğŸ«": "127851",
    "ğŸ¬": "127852",
    "ğŸ­": "127853",
    "ğŸ®": "127854",
    "ğŸ¯": "127855",
    "ğŸ¼": "127868",
    "ğŸ¥›": "129371",
    "â˜•": "9749",
    "ğŸ«–": "129750",
    "ğŸµ": "127861",
    "ğŸ¶": "127862",
    "ğŸ¾": "127870",
    "ğŸ·": "127863",
    "ğŸ¸": "127864",
    "ğŸ¹": "127865",
    "ğŸº": "127866",
    "ğŸ»": "127867",
    "ğŸ¥‚": "129346",
    "ğŸ¥ƒ": "129347",
    "ğŸ¥¤": "129380",
    "ğŸ§‹": "129483",
    "ğŸ§ƒ": "129475",
    "ğŸ§‰": "129481",
    "ğŸ§Š": "129482",
    "ğŸ¥¢": "129378",
    "ğŸ½ï¸": "127869",
    "ğŸ´": "127860",
    "ğŸ¥„": "129348",
    "ğŸ”ª": "128298",
    "ğŸº": "127994",
    "âš½": "9917",
    "ğŸ€": "127936",
    "ğŸˆ": "127944",
    "âš¾": "9918",
    "ğŸ¥": "129358",
    "ğŸ¾": "127934",
    "ğŸ": "127952",
    "ğŸ‰": "127945",
    "ğŸ¥": "129359",
    "ğŸ±": "127921",
    "ğŸª€": "129696",
    "ğŸ“": "127955",
    "ğŸ¸": "127992",
    "ğŸ’": "127954",
    "ğŸ‘": "127953",
    "ğŸ¥": "129357",
    "ğŸ": "127951",
    "ğŸªƒ": "129699",
    "ğŸ¥…": "129349",
    "â›³": "9971",
    "ğŸª": "129697",
    "ğŸ¹": "127993",
    "ğŸ£": "127907",
    "ğŸ¤¿": "129343",
    "ğŸ¥Š": "129354",
    "ğŸ¥‹": "129355",
    "ğŸ½": "127933",
    "ğŸ›¹": "128761",
    "ğŸ›¼": "128764",
    "ğŸ›·": "128759",
    "â›¸ï¸": "9976",
    "ğŸ¥Œ": "129356",
    "ğŸ¿": "127935",
    "â›·ï¸": "9975",
    "ğŸ‚": "127938",
    "ğŸª‚": "129698",
    "ğŸ‹ï¸": "127947",
    "ğŸ¤¼": "129340",
    "ğŸ¤¸": "129336",
    "ğŸ¤º": "129338",
    "â›¹ï¸": "9977",
    "ğŸ¤¾": "129342",
    "ğŸŒï¸": "127948",
    "ğŸ‡": "127943",
    "ğŸ§˜": "129496",
    "ğŸ„": "127940",
    "ğŸŠ": "127946",
    "ğŸ¤½": "129341",
    "ğŸš£": "128675",
    "ğŸ§—": "129495",
    "ğŸšµ": "128693",
    "ğŸš´": "128692",
    "ğŸ†": "127942",
    "ğŸ¥‡": "129351",
    "ğŸ¥ˆ": "129352",
    "ğŸ¥‰": "129353",
    "ğŸ…": "127941",
    "ğŸ–ï¸": "127894",
    "ğŸµï¸": "127989",
    "ğŸ—ï¸": "127895",
    "ğŸ«": "127915",
    "ğŸŸï¸": "127903",
    "ğŸª": "127914",
    "ğŸ¤¹": "129337",
    "ğŸ­": "127917",
    "ğŸ©°": "129648",
    "ğŸ¨": "127912",
    "ğŸ¬": "127916",
    "ğŸ¤": "127908",
    "ğŸ§": "127911",
    "ğŸ¼": "127932",
    "ğŸ¹": "127929",
    "ğŸ¥": "129345",
    "ğŸª˜": "129688",
    "ğŸ·": "127927",
    "ğŸº": "127930",
    "ğŸ¸": "127928",
    "ğŸª•": "129685",
    "ğŸ»": "127931",
    "ğŸ²": "127922",
    "â™Ÿï¸": "9823",
    "ğŸ¯": "127919",
    "ğŸ³": "127923",
    "ğŸ®": "127918",
    "ğŸ°": "127920",
    "ğŸ§©": "129513",
    "ğŸš—": "128663",
    "ğŸš•": "128661",
    "ğŸš™": "128665",
    "ğŸšŒ": "128652",
    "ğŸš": "128654",
    "ğŸï¸": "127950",
    "ğŸš“": "128659",
    "ğŸš‘": "128657",
    "ğŸš’": "128658",
    "ğŸš": "128656",
    "ğŸ›»": "128763",
    "ğŸšš": "128666",
    "ğŸš›": "128667",
    "ğŸšœ": "128668",
    "ğŸï¸": "127949",
    "ğŸ›µ": "128757",
    "ğŸ¦½": "129469",
    "ğŸ¦¼": "129468",
    "ğŸ›º": "128762",
    "ğŸš²": "128690",
    "ğŸ›´": "128756",
    "ğŸ›¹": "128761",
    "ğŸ›¼": "128764",
    "ğŸš": "128655",
    "ğŸ›£ï¸": "128739",
    "ğŸ›¤ï¸": "128740",
    "ğŸ›¢ï¸": "128738",
    "â›½": "9973",
    "ğŸš¨": "128680",
    "ğŸš¥": "128677",
    "ğŸš¦": "128678",
    "ğŸ›‘": "128721",
    "ğŸš§": "128679",
    "âš“": "9875",
    "â›µ": "9973",
    "ğŸ›¶": "128758",
    "ğŸš¤": "128676",
    "ğŸ›³ï¸": "128755",
    "â›´ï¸": "9972",
    "ğŸ›¥ï¸": "128741",
    "ğŸš¢": "128674",
    "âœˆï¸": "9992",
    "ğŸ›©ï¸": "128745",
    "ğŸ›«": "128747",
    "ğŸ›¬": "128748",
    "ğŸª‚": "129698",
    "ğŸ’º": "128186",
    "ğŸš": "128641",
    "ğŸšŸ": "128671",
    "ğŸš ": "128672",
    "ğŸš¡": "128673",
    "ğŸ›°ï¸": "128752",
    "ğŸš€": "128640",
    "ğŸ›¸": "128760",
    "ğŸ›ï¸": "128718",
    "ğŸ§³": "129523",
    "âŒ›": "8987",
    "â³": "9203",
    "âŒš": "8986",
    "â°": "9200",
    "â±ï¸": "9201",
    "â²ï¸": "9202",
    "ğŸ•°ï¸": "128368",
    "ğŸŒ¡ï¸": "127777",
    "â›±ï¸": "9969",
    "ğŸ§¨": "129512",
    "ğŸˆ": "127880",
    "ğŸ‰": "127881",
    "ğŸŠ": "127882",
    "ğŸ‹": "127883",
    "ğŸ": "127885",
    "ğŸ": "127886",
    "ğŸ": "127887",
    "ğŸ": "127888",
    "ğŸ‘": "127889",
    "ğŸ§§": "129511",
    "ğŸ€": "127872",
    "ğŸ": "127873",
    "ğŸ—ï¸": "127895",
    "ğŸŸï¸": "127903",
    "ğŸ«": "127915",
    "ğŸ”®": "128302",
    "ğŸ§¿": "129535",
    "ğŸ®": "127918",
    "ğŸ•¹ï¸": "128377",
    "ğŸ§¸": "129528",
    "ğŸª†": "129702",
    "ğŸ–¼ï¸": "128444",
    "ğŸ§µ": "129525",
    "ğŸª¡": "129697",
    "ğŸ§¶": "129526",
    "ğŸª¢": "129698",
    "ğŸ‘“": "128083",
    "ğŸ•¶ï¸": "128374",
    "ğŸ¥½": "129405",
    "ğŸ¥¼": "129404",
    "ğŸ¦º": "129466",
    "ğŸ‘”": "128084",
    "ğŸ‘•": "128085",
    "ğŸ‘–": "128086",
    "ğŸ§£": "129507",
    "ğŸ§¤": "129508",
    "ğŸ§¥": "129509",
    "ğŸ§¦": "129510",
    "ğŸ‘—": "128087",
    "ğŸ‘˜": "128088",
    "ğŸ¥»": "129403",
    "ğŸ©±": "129649",
    "ğŸ©²": "129650",
    "ğŸ©³": "129651",
    "ğŸ‘™": "128089",
    "ğŸ‘š": "128090",
    "ğŸ‘›": "128091",
    "ğŸ‘œ": "128092",
    "ğŸ‘": "128093",
    "ğŸ›ï¸": "128717",
    "ğŸ’": "127890",
    "ğŸ©´": "129652",
    "ğŸ‘": "128094",
    "ğŸ‘Ÿ": "128095",
    "ğŸ¥¾": "129406",
    "ğŸ¥¿": "129407",
    "ğŸ‘ ": "128096",
    "ğŸ‘¡": "128097",
    "ğŸ©°": "129648",
    "ğŸ‘¢": "128098",
    "ğŸ‘‘": "128081",
    "ğŸ‘’": "128082",
    "ğŸ©": "127913",
    "ğŸ“": "127891",
    "ğŸ§¢": "129506",
    "ğŸª–": "129686",
    "â›‘ï¸": "9937",
    "ğŸ“¿": "128255",
    "ğŸ’„": "128132",
    "ğŸ’": "128141",
    "ğŸ’": "128142",
    "ğŸ”‡": "128263",
    "ğŸ”ˆ": "128264",
    "ğŸ”‰": "128265",
    "ğŸ”Š": "128266",
    "ğŸ“¢": "128226",
    "ğŸ“£": "128227",
    "ğŸ“¯": "128239",
    "ğŸ””": "128276",
    "ğŸ”•": "128277",
    "ğŸ¼": "127932",
    "ğŸµ": "127925",
    "ğŸ¶": "127926",
    "ğŸ™ï¸": "127897",
    "ğŸšï¸": "127898",
    "ğŸ›ï¸": "127899",
    "ğŸ¤": "127908",
    "ğŸ§": "127911",
    "ğŸ“»": "128251",
    "ğŸ·": "127927",
    "ğŸª—": "129687",
    "ğŸ¸": "127928",
    "ğŸ¹": "127929",
    "ğŸº": "127930",
    "ğŸ»": "127931",
    "ğŸª•": "129685",
    "ğŸ¥": "129345",
    "ğŸª˜": "129688",
    "ğŸ“±": "128241",
    "ğŸ“²": "128242",
    "â˜ï¸": "9742",
    "ğŸ“": "128222",
    "ğŸ“Ÿ": "128223",
    "ğŸ“ ": "128224",
    "ğŸ”‹": "128267",
    "ğŸ”Œ": "128268",
    "ğŸ’»": "128187",
    "ğŸ–¥ï¸": "128421",
    "ğŸ–¨ï¸": "128424",
    "âŒ¨ï¸": "9000",
    "ğŸ–±ï¸": "128433",
    "ğŸ–²ï¸": "128434",
    "ğŸ’½": "128189",
    "ğŸ’¾": "128190",
    "ğŸ’¿": "128191",
    "ğŸ“€": "128192",
    "ğŸ§®": "129518",
    "ğŸ¥": "127909",
    "ğŸï¸": "127902",
    "ğŸ“½ï¸": "128253",
    "ğŸ¬": "127916",
    "ğŸ“º": "128250",
    "ğŸ“·": "128247",
    "ğŸ“¸": "128248",
    "ğŸ“¹": "128249",
    "ğŸ“¼": "128252",
    "ğŸ”": "128269",
    "ğŸ”": "128270",
    "ğŸ•¯ï¸": "128367",
    "ğŸ’¡": "128161",
    "ğŸ”¦": "128294",
    "ğŸ®": "127982",
    "ğŸª”": "129684",
    "ğŸ“”": "128212",
    "ğŸ“•": "128213",
    "ğŸ“–": "128214",
    "ğŸ“—": "128215",
    "ğŸ“˜": "128216",
    "ğŸ“™": "128217",
    "ğŸ“š": "128218",
    "ğŸ““": "128211",
    "ğŸ“’": "128210",
    "ğŸ“ƒ": "128195",
    "ğŸ“œ": "128220",
    "ğŸ“„": "128196",
    "ğŸ“°": "128240",
    "ğŸ—ï¸": "128478",
    "ğŸ“‘": "128209",
    "ğŸ”–": "128278",
    "ğŸ·ï¸": "127991",
    "ğŸ’°": "128176",
    "ğŸª™": "129689",
    "ğŸ’´": "128180",
    "ğŸ’µ": "128181",
    "ğŸ’¶": "128182",
    "ğŸ’·": "128183",
    "ğŸ’¸": "128184",
    "ğŸ’³": "128179",
    "ğŸ§¾": "129534",
    "ğŸ’¹": "128185",
    "âœ‰ï¸": "9993",
    "ğŸ“§": "128231",
    "ğŸ“¨": "128232",
    "ğŸ“©": "128233",
    "ğŸ“¤": "128228",
    "ğŸ“¥": "128229",
    "ğŸ“¦": "128230",
    "ğŸ“«": "128235",
    "ğŸ“ª": "128234",
    "ğŸ“¬": "128236",
    "ğŸ“­": "128237",
    "ğŸ“®": "128238",
    "ğŸ—³ï¸": "128499",
    "âœï¸": "9999",
    "âœ’ï¸": "10002",
    "ğŸ–‹ï¸": "128395",
    "ğŸ–Šï¸": "128394",
    "ğŸ–Œï¸": "128396",
    "ğŸ–ï¸": "128397",
    "ğŸ“": "128221",
    "ğŸ’¼": "128188",
    "ğŸ“": "128193",
    "ğŸ“‚": "128194",
    "ğŸ—‚ï¸": "128450",
    "ğŸ“…": "128197",
    "ğŸ“†": "128198",
    "ğŸ—’ï¸": "128466",
    "ğŸ—“ï¸": "128467",
    "ğŸ“‡": "128199",
    "ğŸ“ˆ": "128200",
    "ğŸ“‰": "128201",
    "ğŸ“Š": "128202",
    "ğŸ“‹": "128203",
    "ğŸ“Œ": "128204",
    "ğŸ“": "128205",
    "ğŸ“": "128206",
    "ğŸ–‡ï¸": "128391",
    "ğŸ“": "128207",
    "ğŸ“": "128208",
    "âœ‚ï¸": "9986",
    "ğŸ—ƒï¸": "128451",
    "ğŸ—„ï¸": "128452",
    "ğŸ—‘ï¸": "128465",
    "ğŸ”’": "128274",
    "ğŸ”“": "128275",
    "ğŸ”": "128271",
    "ğŸ”": "128272",
    "ğŸ”‘": "128273",
    "ğŸ—ï¸": "128477",
    "ğŸ”¨": "128296",
    "ğŸª“": "129683",
    "â›ï¸": "9935",
    "âš’ï¸": "9874",
    "ğŸ› ï¸": "128736",
    "ğŸ—¡ï¸": "128481",
    "âš”ï¸": "9876",
    "ğŸ”«": "128299",
    "ğŸªƒ": "129699",
    "ğŸ¹": "127993",
    "ğŸ›¡ï¸": "128737",
    "ğŸªš": "129690",
    "ğŸ”§": "128295",
    "ğŸª›": "129691",
    "ğŸ”©": "128297",
    "âš™ï¸": "9881",
    "ğŸ—œï¸": "128476",
    "âš–ï¸": "9878",
    "ğŸ¦¯": "129455",
    "ğŸ”—": "128279",
    "â›“ï¸": "9939",
    "ğŸª": "129693",
    "ğŸ§°": "129520",
    "ğŸ§²": "129522",
    "ğŸªœ": "129692",
    "âš—ï¸": "9879",
    "ğŸ§ª": "129514",
    "ğŸ§«": "129515",
    "ğŸ§¬": "129516",
    "ğŸ”¬": "128300",
    "ğŸ”­": "128301",
    "ğŸ“¡": "128225",
    "ğŸ’‰": "128137",
    "ğŸ©¸": "129656",
    "ğŸ’Š": "128138",
    "ğŸ©¹": "129657",
    "ğŸ©º": "129658",
    "ğŸšª": "128682",
    "ğŸ›—": "128759",
    "ğŸª": "129694",
    "ğŸªŸ": "129695",
    "ğŸ›ï¸": "128719",
    "ğŸ›‹ï¸": "128715",
    "ğŸª‘": "129681",
    "ğŸš½": "128701",
    "ğŸª ": "129696",
    "ğŸš¿": "128703",
    "ğŸ›": "128705",
    "ğŸª¤": "129700",
    "ğŸª’": "129682",
    "ğŸ§´": "129524",
    "ğŸ§·": "129527",
    "ğŸ§¹": "129529",
    "ğŸ§º": "129530",
    "ğŸ§»": "129531",
    "ğŸª£": "129699",
    "ğŸ§¼": "129532",
    "ğŸª¥": "129701",
    "ğŸ§½": "129533",
    "ğŸ§¯": "129519",
    "ğŸ›’": "128722",
    "ğŸš¬": "128684",
    "âš°ï¸": "9904",
    "ğŸª¦": "129702",
    "âš±ï¸": "9905",
    "ğŸ—¿": "128511",
    "ğŸª§": "129703",
    "ğŸ§": "127975",
    "ğŸš®": "128686",
    "ğŸš°": "128688",
    "â™¿": "9855",
    "ğŸš¹": "128697",
    "ğŸšº": "128698",
    "ğŸš»": "128699",
    "ğŸš¼": "128700",
    "ğŸš¾": "128702",
    "ğŸ›‚": "128706",
    "ğŸ›ƒ": "128707",
    "ğŸ›„": "128708",
    "ğŸ›…": "128709",
    "âš ï¸": "9888",
    "ğŸš¸": "128696",
    "â›”": "9940",
    "ğŸš«": "128683",
    "ğŸš³": "128691",
    "ğŸš­": "128685",
    "ğŸš¯": "128687",
    "ğŸš±": "128689",
    "ğŸš·": "128695",
    "ğŸ“µ": "128245",
    "ğŸ”": "128286",
    "â˜¢ï¸": "9762",
    "â˜£ï¸": "9763",
    "â¬†ï¸": "11014",
    "â†—ï¸": "8599",
    "â¡ï¸": "10145",
    "â†˜ï¸": "8600",
    "â¬‡ï¸": "11015",
    "â†™ï¸": "8601",
    "â¬…ï¸": "11013",
    "â†–ï¸": "8598",
    "â†•ï¸": "8597",
    "â†”ï¸": "8596",
    "â†©ï¸": "8617",
    "â†ªï¸": "8618",
    "â¤´ï¸": "10548",
    "â¤µï¸": "10549",
    "ğŸ”ƒ": "128259",
    "ğŸ”„": "128260",
    "ğŸ”™": "128281",
    "ğŸ”š": "128282",
    "ğŸ”›": "128283",
    "ğŸ”œ": "128284",
    "ğŸ”": "128285",
    "ğŸ›": "128720",
    "âš›ï¸": "9883",
    "ğŸ•‰ï¸": "128329",
    "âœ¡ï¸": "10017",
    "â˜¸ï¸": "9784",
    "â˜¯ï¸": "9775",
    "âœï¸": "10013",
    "â˜¦ï¸": "9766",
    "â˜ªï¸": "9770",
    "â˜®ï¸": "9774",
    "ğŸ•": "128334",
    "ğŸ”¯": "128303",
    "â™ˆ": "9800",
    "â™‰": "9801",
    "â™Š": "9802",
    "â™‹": "9803",
    "â™Œ": "9804",
    "â™": "9805",
    "â™": "9806",
    "â™": "9807",
    "â™": "9808",
    "â™‘": "9809",
    "â™’": "9810",
    "â™“": "9811",
    "â›": "9934",
    "ğŸ”€": "128256",
    "ğŸ”": "128257",
    "ğŸ”‚": "128258",
    "â–¶ï¸": "9654",
    "â©": "9193",
    "â­ï¸": "9197",
    "â¯ï¸": "9199",
    "â—€ï¸": "9664",
    "âª": "9194",
    "â®ï¸": "9198",
    "ğŸ”¼": "128316",
    "â«": "9195",
    "ğŸ”½": "128317",
    "â¬": "9196",
    "â¸ï¸": "9208",
    "â¹ï¸": "9209",
    "âºï¸": "9210",
    "âï¸": "9167",
    "ğŸ¦": "127910",
    "ğŸ”…": "128261",
    "ğŸ”†": "128262",
    "ğŸ“¶": "128246",
    "ğŸ“³": "128243",
    "ğŸ“´": "128244",
    "â™€ï¸": "9792",
    "â™‚ï¸": "9794",
    "âš§ï¸": "9895",
    "âœ–ï¸": "10006",
    "â•": "10133",
    "â–": "10134",
    "â—": "10135",
    "â™¾ï¸": "9854",
    "â€¼ï¸": "8252",
    "â‰ï¸": "8265",
    "â“": "10067",
    "â”": "10068",
    "â•": "10069",
    "â—": "10071",
    "ã€°ï¸": "12336",
    "ğŸ’±": "128177",
    "ğŸ’²": "128178",
    "âš•ï¸": "9877",
    "â™»ï¸": "9851",
    "âšœï¸": "9884",
    "ğŸ”±": "128305",
    "ğŸ“›": "128219",
    "ğŸ”°": "128304",
    "â­•": "11093",
    "âœ…": "9989",
    "â˜‘ï¸": "9745",
    "âœ”ï¸": "10004",
    "âŒ": "10060",
    "â": "10062",
    "â°": "10160",
    "â¿": "10175",
    "ã€½ï¸": "12349",
    "âœ³ï¸": "10035",
    "âœ´ï¸": "10036",
    "â‡ï¸": "10055",
    "Â©ï¸": "169",
    "Â®ï¸": "174",
    "â„¢ï¸": "8482",
    "#ï¸âƒ£": "35",
    "*ï¸âƒ£": "42",
    "0ï¸âƒ£": "48",
    "1ï¸âƒ£": "49",
    "2ï¸âƒ£": "50",
    "3ï¸âƒ£": "51",
    "4ï¸âƒ£": "52",
    "5ï¸âƒ£": "53",
    "6ï¸âƒ£": "54",
    "7ï¸âƒ£": "55",
    "8ï¸âƒ£": "56",
    "9ï¸âƒ£": "57",
    "ğŸ”Ÿ": "128287",
    "ğŸ” ": "128288",
    "ğŸ”¡": "128289",
    "ğŸ”¢": "128290",
    "ğŸ”£": "128291",
    "ğŸ”¤": "128292",
    "ğŸ…°ï¸": "127344",
    "ğŸ†": "127374",
    "ğŸ…±ï¸": "127345",
    "ğŸ†‘": "127377",
    "ğŸ†’": "127378",
    "ğŸ†“": "127379",
    "â„¹ï¸": "8505",
    "ğŸ†”": "127380",
    "â“‚ï¸": "9410",
    "ğŸ†•": "127381",
    "ğŸ†–": "127382",
    "ğŸ…¾ï¸": "127358",
    "ğŸ†—": "127383",
    "ğŸ…¿ï¸": "127359",
    "ğŸ†˜": "127384",
    "ğŸ†™": "127385",
    "ğŸ†š": "127386",
    "ğŸˆ": "127489",
    "ğŸˆ‚ï¸": "127490",
    "ğŸˆ·ï¸": "127543",
    "ğŸˆ¶": "127542",
    "ğŸˆ¯": "127535",
    "ğŸ‰": "127568",
    "ğŸˆ¹": "127545",
    "ğŸˆš": "127514",
    "ğŸˆ²": "127538",
    "ğŸ‰‘": "127569",
    "ğŸˆ¸": "127544",
    "ğŸˆ´": "127540",
    "ğŸˆ³": "127539",
    "ãŠ—ï¸": "12951",
    "ãŠ™ï¸": "12953",
    "ğŸˆº": "127546",
    "ğŸˆµ": "127541",
    "ğŸ”´": "128308",
    "ğŸŸ ": "128992",
    "ğŸŸ¡": "128993",
    "ğŸŸ¢": "128994",
    "ğŸ”µ": "128309",
    "ğŸŸ£": "128995",
    "ğŸŸ¤": "128996",
    "âš«": "9899",
    "âšª": "9898",
    "ğŸŸ¥": "128997",
    "ğŸŸ§": "128998",
    "ğŸŸ¨": "128999",
    "ğŸŸ©": "129000",
    "ğŸŸ¦": "129001",
    "ğŸŸª": "129002",
    "ğŸŸ«": "129003",
    "â¬›": "11035",
    "â¬œ": "11036",
    "â—¼ï¸": "9724",
    "â—»ï¸": "9723",
    "â—¾": "9726",
    "â—½": "9725",
    "â–ªï¸": "9642",
    "â–«ï¸": "9643",
    "ğŸ”¶": "128310",
    "ğŸ”·": "128311",
    "ğŸ”¸": "128312",
    "ğŸ”¹": "128313",
    "ğŸ”º": "128314",
    "ğŸ”»": "128315",
    "ğŸ’ ": "128160",
    "ğŸ”˜": "128280",
    "ğŸ”³": "128307",
    "ğŸ”²": "128306",
    "ğŸ": "127937",
    "ğŸš©": "128681",
    "ğŸŒ": "127884",
    "ğŸ´": "127988",
    "ğŸ³ï¸": "127987",
    "ğŸ³ï¸â€ğŸŒˆ": "127987",
    "ğŸ³ï¸â€âš§ï¸": "127987",
    "ğŸ´â€â˜ ï¸": "127988",
    "â˜€ï¸": "9728",
    "ğŸŒ™": "127769",
    "â­": "11088",
    "ğŸŒŸ": "127775",
    "âœ¨": "10024",
    "ğŸ’«": "128171",
    "â˜ï¸": "9729",
    "â›…": "9925",
    "ğŸŒˆ": "127752",
    "ğŸŒŠ": "127754",
    "â„ï¸": "10052",
    "â›„": "9924",
    "ğŸ”¥": "128293",
    "ğŸ’§": "128167",
    "ğŸŒ": "127757",
    "ğŸŒ": "127758",
    "ğŸŒ": "127759",
    "ğŸª": "129680",
}


def get_emoji_id_from_unicode(emoji: str) -> str | None:
    """
    å°† emoji å­—ç¬¦è½¬æ¢ä¸ºå…¶ Unicode ç ç‚¹ï¼ˆåè¿›åˆ¶ï¼‰

    Args:
        emoji: emoji å­—ç¬¦

    Returns:
        str | None: emoji çš„ Unicode ç ç‚¹ï¼ˆåè¿›åˆ¶å­—ç¬¦ä¸²ï¼‰ï¼Œå¦‚æœæ— æ³•è½¬æ¢åˆ™è¿”å› None
    """
    # å…ˆå°è¯•ä»æ˜ å°„è¡¨ä¸­è·å–
    if emoji in EMOJI_TO_ID:
        return EMOJI_TO_ID[emoji]

    # å¦‚æœä¸åœ¨æ˜ å°„è¡¨ä¸­ï¼Œä½¿ç”¨ Unicode ç ç‚¹
    if len(emoji) > 0:
        # å¤„ç†ç»„åˆ emojiï¼ˆå¦‚è‚¤è‰²å˜ä½“ã€ZWJ åºåˆ—ç­‰ï¼‰ï¼Œå–ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹
        return str(ord(emoji[0]))

    return None


# é¢„ç¼–è¯‘ emoji æ­£åˆ™è¡¨è¾¾å¼ï¼Œé¿å…åœ¨æ¯æ¬¡æ¶ˆæ¯å¤„ç†æ—¶é‡å¤ç¼–è¯‘
EMOJI_PATTERN = re.compile(
    "["
    "\U0001F600-\U0001F64F"  # è¡¨æƒ…ç¬¦å·ï¼ˆEmoticonsï¼‰
    "\U0001F300-\U0001F5FF"  # æ‚é¡¹ç¬¦å·å’Œå›¾å½¢ï¼ˆMiscellaneous Symbols and Pictographsï¼‰
    "\U0001F680-\U0001F6FF"  # äº¤é€šå’Œåœ°å›¾ç¬¦å·ï¼ˆTransport and Map Symbolsï¼‰
    "\U0001F1E0-\U0001F1FF"  # æ——å¸œï¼ˆFlagsï¼‰
    "\U0001F900-\U0001F9FF"  # è¡¥å……è¡¨æƒ…ç¬¦å·ï¼ˆSupplemental Symbols and Pictographsï¼‰
    "\U0001FA00-\U0001FA6F"  # è±¡æ£‹ç¬¦å·ï¼ˆChess Symbolsï¼‰
    "\U0001FA70-\U0001FAFF"  # ç¬¦å·å’Œå›¾å½¢æ‰©å±•-Aï¼ˆSymbols and Pictographs Extended-Aï¼‰
    "\U00002702-\U000027B0"  # è£…é¥°ç¬¦å·ï¼ˆDingbatsï¼‰
    "\U00002600-\U000026FF"  # æ‚é¡¹ç¬¦å·ï¼ˆMiscellaneous Symbolsï¼‰
    "\U0001F000-\U0001F02F"  # éº»å°†ç‰Œï¼ˆMahjong Tilesï¼‰
    "\U0001F0A0-\U0001F0FF"  # æ‰‘å…‹ç‰Œï¼ˆPlaying Cardsï¼‰
    "]",
    flags=re.UNICODE,
)


class GroupMessageHandler:
    """ç¾¤æ¶ˆæ¯å¤„ç†å™¨"""

    def __init__(self, websocket, msg):
        self.websocket = websocket
        self.msg = msg
        self.time = msg.get("time", "")
        self.formatted_time = datetime.fromtimestamp(self.time).strftime(
            "%Y-%m-%d %H:%M:%S"
        )  # æ ¼å¼åŒ–æ—¶é—´
        self.sub_type = msg.get("sub_type", "")  # å­ç±»å‹ï¼Œåªæœ‰normal
        self.group_id = str(msg.get("group_id", ""))  # ç¾¤å·
        self.message_id = str(msg.get("message_id", ""))  # æ¶ˆæ¯ID
        self.user_id = str(msg.get("user_id", ""))  # å‘é€è€…QQå·
        self.message = msg.get("message", {})  # æ¶ˆæ¯æ®µæ•°ç»„
        self.raw_message = msg.get("raw_message", "")  # åŸå§‹æ¶ˆæ¯
        self.sender = msg.get("sender", {})  # å‘é€è€…ä¿¡æ¯
        self.nickname = self.sender.get("nickname", "")  # æ˜µç§°
        self.card = self.sender.get("card", "")  # ç¾¤åç‰‡
        self.role = self.sender.get("role", "")  # ç¾¤èº«ä»½

        self.repeat_probability = 0.1  # éšæœºæ¦‚ç‡ï¼Œç™¾åˆ†ä¹‹10
        self.poke_probability = 0.1  # éšæœºæ¦‚ç‡ï¼Œç™¾åˆ†ä¹‹10
        self.max_message_length = 25  # æœ€å¤§æ¶ˆæ¯é•¿åº¦ï¼Œè¶…è¿‡æ­¤é•¿åº¦ä¸è¿›è¡Œéšæœºå¤è¯»
        self.max_emoji_reactions = 20  # æœ€å¤§è´´è¡¨æƒ…æ•°é‡

    def extract_emoji_ids_from_message(self):
        """
        ä»æ¶ˆæ¯ä¸­æå–è¡¨æƒ…IDåˆ—è¡¨ï¼ˆåŒ…æ‹¬QQè¡¨æƒ…å’Œemojiï¼‰

        Returns:
            list: è¡¨æƒ…IDåˆ—è¡¨ï¼ˆå­—ç¬¦ä¸²æ ¼å¼ï¼‰
        """
        emoji_ids = []

        try:
            # 1. æå–æ¶ˆæ¯æ®µä¸­çš„QQè¡¨æƒ…ï¼ˆfaceç±»å‹ï¼‰
            if isinstance(self.message, list):
                for segment in self.message:
                    if segment.get("type") == "face":
                        face_id = segment.get("data", {}).get("id")
                        if face_id is not None:
                            # QQè¡¨æƒ…IDç›´æ¥ä½¿ç”¨
                            emoji_ids.append(str(face_id))

            # 2. ä»åŸå§‹æ¶ˆæ¯ä¸­æå–emoji
            # ä½¿ç”¨é¢„ç¼–è¯‘çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… emoji
            emojis = EMOJI_PATTERN.findall(self.raw_message)
            for emoji_char in emojis:
                # è·³è¿‡å˜ä½“é€‰æ‹©å™¨ï¼ˆVariation Selectorsï¼‰
                if "\uFE00" <= emoji_char <= "\uFE0F":
                    continue
                emoji_id = get_emoji_id_from_unicode(emoji_char)
                if emoji_id:
                    emoji_ids.append(emoji_id)

        except Exception as e:
            logger.error(f"[{MODULE_NAME}]æå–è¡¨æƒ…IDå¤±è´¥: {e}")

        return emoji_ids

    async def react_with_emojis(self):
        """
        ç»™æ¶ˆæ¯è´´ä¸Šæå–åˆ°çš„è¡¨æƒ…

        Returns:
            tuple: (æˆåŠŸæ•°é‡, å¤±è´¥æ•°é‡, é”™è¯¯ä¿¡æ¯åˆ—è¡¨)
        """
        success_count = 0
        fail_count = 0
        error_messages = []

        try:
            # æå–è¡¨æƒ…ID
            emoji_ids = self.extract_emoji_ids_from_message()

            if not emoji_ids:
                return success_count, fail_count, error_messages

            # å»é‡å¹¶é™åˆ¶æ•°é‡
            unique_emoji_ids = list(dict.fromkeys(emoji_ids))  # ä¿æŒé¡ºåºçš„å»é‡
            emoji_ids_to_react = unique_emoji_ids[: self.max_emoji_reactions]

            logger.info(
                f"[{MODULE_NAME}]æ£€æµ‹åˆ° {len(unique_emoji_ids)} ä¸ªè¡¨æƒ…ï¼Œå°†è´´ {len(emoji_ids_to_react)} ä¸ªè¡¨æƒ…"
            )

            # é€ä¸ªè´´è¡¨æƒ…
            for emoji_id in emoji_ids_to_react:
                try:
                    await set_msg_emoji_like(
                        self.websocket, self.message_id, str(emoji_id), True
                    )
                    success_count += 1
                    logger.debug(f"[{MODULE_NAME}]æˆåŠŸè´´è¡¨æƒ…: {emoji_id}")
                except Exception as e:
                    fail_count += 1
                    error_msg = f"è´´è¡¨æƒ… {emoji_id} å¤±è´¥: {e}"
                    error_messages.append(error_msg)
                    logger.warning(f"[{MODULE_NAME}]{error_msg}")

            if success_count > 0:
                logger.info(
                    f"[{MODULE_NAME}]ç¾¤èŠè´´è¡¨æƒ…å®Œæˆ: ç¾¤{self.group_id} ç”¨æˆ·{self.nickname}({self.user_id}) "
                    f"æˆåŠŸ{success_count}ä¸ª å¤±è´¥{fail_count}ä¸ª"
                )

        except Exception as e:
            error_msg = f"è´´è¡¨æƒ…åŠŸèƒ½å¼‚å¸¸: {e}"
            error_messages.append(error_msg)
            logger.error(f"[{MODULE_NAME}]{error_msg}")

        return success_count, fail_count, error_messages

    async def handle(self):
        """
        å¤„ç†ç¾¤æ¶ˆæ¯
        """
        try:
            if self.raw_message.lower() == SWITCH_NAME.lower():
                # é‰´æƒ
                if not is_group_admin(self.role) and not is_system_admin(self.user_id):
                    logger.error(f"[{MODULE_NAME}]{self.user_id}æ— æƒé™åˆ‡æ¢ç¾¤èŠå¼€å…³")
                    return
                await handle_module_group_switch(
                    MODULE_NAME,
                    self.websocket,
                    self.group_id,
                    self.message_id,
                )
                return

            # å¤„ç†èœå•å‘½ä»¤ï¼ˆæ— è§†å¼€å…³çŠ¶æ€ï¼‰
            if self.raw_message.lower() == f"{SWITCH_NAME}{MENU_COMMAND}".lower():
                menu_text = MenuManager.get_module_commands_text(MODULE_NAME)
                await send_group_msg_with_cq(
                    self.websocket,
                    self.group_id,
                    self.raw_message,
                )
                return

            # å¦‚æœæ²¡å¼€å¯ç¾¤èŠå¼€å…³ï¼Œåˆ™ä¸å¤„ç†
            if not is_group_switch_on(self.group_id, MODULE_NAME):
                return

            # éšæœºæˆ³ä¸€æˆ³ä¸Šä¸€ä¸ªè¯´è¯çš„äºº
            if random.random() < self.poke_probability:
                await group_poke(self.websocket, self.group_id, self.user_id)
                logger.info(
                    f"[{MODULE_NAME}]ç¾¤èŠæˆ³ä¸€æˆ³: {self.group_id} {self.nickname}({self.user_id})"
                )

            # æ£€æµ‹æ¶ˆæ¯ä¸­çš„è¡¨æƒ…å¹¶è´´è¡¨æƒ…å›å¤
            await self.react_with_emojis()

            # å¿½ç•¥çš„å­—ç¬¦æ•°ç»„å•ç‹¬æ‘˜å‡ºæ¥
            ignore_words = [
                "[CQ:video,file=",
                "[CQ:json,data=",
                "[CQ:file,file=",
            ]

            # å¦‚æœæ¶ˆæ¯ä¸­åŒ…å«ä¸‹é¢è¿™äº›å­—ç¬¦ï¼Œåˆ™ä¸å¤„ç†
            if any(word in self.raw_message for word in ignore_words):
                return

            # æ£€æŸ¥æ¶ˆæ¯é•¿åº¦ï¼Œè¶…è¿‡æœ€å¤§é•¿åº¦åˆ™ä¸å¤„ç†
            if len(self.raw_message) > self.max_message_length:
                return

            # éšæœºå¤è¯»æ¶ˆæ¯å†…å®¹
            if random.random() < self.repeat_probability:
                # æ£€æŸ¥æ˜¯å¦ä¸ºçº¯æ–‡æœ¬æ¶ˆæ¯
                is_pure_text = (
                    all(segment.get("type") == "text" for segment in self.message)
                    if isinstance(self.message, list)
                    else False
                )

                repeat_message = self.raw_message

                # å¦‚æœæ˜¯çº¯æ–‡æœ¬ä¸”éšæœºåˆ°50%æ¦‚ç‡ï¼Œåˆ™æ‰“ä¹±é¡ºåº
                if is_pure_text and random.random() < 0.5:
                    # å°†æ–‡æœ¬è½¬æ¢ä¸ºå­—ç¬¦åˆ—è¡¨å¹¶æ‰“ä¹±
                    chars = list(self.raw_message)
                    random.shuffle(chars)
                    repeat_message = "".join(chars)
                    logger.info(
                        f"[{MODULE_NAME}]ç¾¤èŠæ‰“ä¹±å¤è¯»: {self.group_id} {self.nickname}({self.user_id})"
                    )
                else:
                    logger.info(
                        f"[{MODULE_NAME}]ç¾¤èŠåŸæ ·å¤è¯»: {self.group_id} {self.nickname}({self.user_id})"
                    )

                await send_group_msg_with_cq(
                    self.websocket, self.group_id, repeat_message
                )
        except Exception as e:
            logger.error(f"[{MODULE_NAME}]å¤„ç†ç¾¤æ¶ˆæ¯å¤±è´¥: {e}")
